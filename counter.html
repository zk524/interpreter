<button id="fire" disabled>FIRE</button><button id="stop" disabled>STOP</button>
<script type="module">
    Object.assign(window, { worker: new Worker("./counter.js", { type: "module" }) })
    worker.onmessage = function (e) {
        switch (e.data.type) {
            case "init":
                document.getElementById("fire").disabled = false
                document.getElementById("fire").onclick = () => {
                    worker.postMessage({ action: "fire" })
                    document.getElementById("fire").disabled = !(document.getElementById("stop").disabled = false)
                }
                document.getElementById("stop").onclick = () => {
                    console.log("stopped", worker.terminate())
                    worker = new Worker("./counter.js", { type: "module" })
                    document.getElementById("fire").disabled = !(document.getElementById("stop").disabled = true)
                }
                break
            case "stop":
                console.log(`${e.data.mesg}`)
                document.getElementById("fire").disabled = !(document.getElementById("stop").disabled = true)
                break
        }
    }
</script>